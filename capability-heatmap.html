<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sarang Bajpai â€” Capability Heat Map</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
  *{margin:0;padding:0;box-sizing:border-box}
  body{font-family:'Inter',sans-serif;background:#0a0e1a;color:#e0e6f0;min-height:100vh;overflow-x:hidden}
  .header{background:linear-gradient(135deg,#0f1629 0%,#1a1f3a 50%,#0d1225 100%);padding:20px 30px 16px;border-bottom:1px solid rgba(99,132,255,0.15)}
  .header h1{font-size:24px;font-weight:800;background:linear-gradient(135deg,#6384ff,#a78bfa,#60d5fa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.5px}
  .intro{color:#7a84a0;font-size:11.5px;margin-top:6px;line-height:1.6;max-width:1100px}
  .intro strong{color:#94a3b8}
  .controls{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap;align-items:center}
  .ctrl-group{display:flex;align-items:center;gap:5px}
  .ctrl-label{font-size:9.5px;font-weight:600;color:#475569;text-transform:uppercase;letter-spacing:0.7px;margin-right:2px}
  .ctrl-btn{padding:5px 13px;border-radius:16px;border:1px solid rgba(99,132,255,0.25);background:rgba(99,132,255,0.08);color:#a0aec0;font-size:11px;font-weight:500;cursor:pointer;transition:all .2s;font-family:'Inter',sans-serif}
  .ctrl-btn:hover,.ctrl-btn.active{background:rgba(99,132,255,0.2);color:#e0e6f0;border-color:rgba(99,132,255,0.5)}
  .ctrl-btn.active{background:linear-gradient(135deg,rgba(99,132,255,0.3),rgba(167,139,250,0.2));box-shadow:0 0 10px rgba(99,132,255,0.12)}
  .dim-group{display:flex;background:rgba(15,23,42,0.6);border:1px solid rgba(99,132,255,0.15);border-radius:18px;overflow:hidden}
  .dim-btn{padding:5px 14px;font-size:10.5px;font-weight:600;font-family:'Inter',sans-serif;cursor:pointer;color:#64748b;background:transparent;border:none;transition:all .2s;white-space:nowrap;position:relative}
  .dim-btn:not(:last-child)::after{content:'';position:absolute;right:0;top:22%;height:56%;width:1px;background:rgba(99,132,255,0.12)}
  .dim-btn:hover{color:#a0aec0}
  .dim-btn.active{background:linear-gradient(135deg,rgba(99,132,255,0.25),rgba(167,139,250,0.18));color:#e0e6f0}
  .dim-btn.active::after{display:none}
  .legend{display:flex;align-items:center;gap:5px;margin-left:auto;font-size:10px;color:#64748b}
  .leg-chip{display:inline-flex;align-items:center;gap:3px;font-size:9.5px}
  .leg-dot{width:10px;height:10px;border-radius:2px;display:inline-block}
  .stats-bar{display:flex;gap:12px;margin-top:10px;flex-wrap:wrap}
  .stat-card{background:rgba(99,132,255,0.04);border:1px solid rgba(99,132,255,0.1);border-radius:8px;padding:8px 14px;flex:1;min-width:150px}
  .stat-card .stat-val{font-size:18px;font-weight:800;background:linear-gradient(135deg,#6384ff,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
  .stat-card .stat-lbl{font-size:9px;color:#64748b;margin-top:1px;font-weight:500;text-transform:uppercase;letter-spacing:0.4px}
  .main{padding:12px 30px 40px;overflow-x:auto}
  table{border-collapse:separate;border-spacing:1px;width:100%;min-width:960px}
  thead th{position:sticky;top:0;z-index:10;background:#0f1629;font-size:9.5px;font-weight:600;color:#94a3b8;padding:7px 5px;text-align:center;letter-spacing:0.3px;text-transform:uppercase;border-bottom:2px solid rgba(99,132,255,0.12);white-space:nowrap}
  thead th:first-child{text-align:left;min-width:220px;z-index:11}
  thead th .proj-tag{display:inline-block;padding:2px 6px;border-radius:3px;font-size:8px;font-weight:700;letter-spacing:0.4px;margin-top:2px}
  .tag-gmm{background:rgba(14,116,144,0.2);color:#22d3ee}
  .tag-sf{background:rgba(16,185,129,0.2);color:#34d399}
  .tag-rm{background:rgba(245,158,11,0.2);color:#fbbf24}
  .tag-ai{background:rgba(167,139,250,0.2);color:#c4b5fd}
  .tag-overall{background:rgba(99,132,255,0.2);color:#93a8ff}
  tbody tr{transition:background .12s}
  tbody tr:hover{background:rgba(99,132,255,0.04)}
  tbody td{padding:5px 4px;text-align:center;border-radius:3px;font-size:10px;font-weight:700;cursor:default;position:relative;transition:transform .12s,box-shadow .12s;letter-spacing:0.3px;text-transform:uppercase}
  tbody td:first-child{text-align:left;font-weight:500;color:#cbd5e1;font-size:11px;padding-left:8px;border-radius:4px 0 0 4px;background:transparent !important;text-transform:none;letter-spacing:0}
  tbody td:hover:not(:first-child){transform:scale(1.06);box-shadow:0 0 12px rgba(99,132,255,0.18);z-index:5}
  .fn-label{display:flex;align-items:center;gap:6px}
  .fn-label .side-tag{font-size:7.5px;padding:1px 5px;border-radius:2px;font-weight:700;letter-spacing:0.4px;flex-shrink:0}
  .side-buy{background:rgba(16,185,129,0.15);color:#34d399}
  .side-sell{background:rgba(245,158,11,0.15);color:#fbbf24}
  .side-both{background:rgba(99,132,255,0.15);color:#93a8ff}
  .section-row td{background:rgba(99,132,255,0.05) !important;font-size:9.5px !important;font-weight:700 !important;color:#6384ff !important;letter-spacing:1px;text-transform:uppercase !important;padding:8px 8px 4px !important;border-bottom:1px solid rgba(99,132,255,0.08)}
  .tooltip{display:none;position:fixed;background:#1a1f3a;border:1px solid rgba(99,132,255,0.3);border-radius:8px;padding:10px 14px;font-size:11px;color:#cbd5e1;max-width:300px;z-index:1000;box-shadow:0 8px 28px rgba(0,0,0,0.5);line-height:1.45;pointer-events:none}
  .tooltip .tt-title{font-weight:700;color:#e0e6f0;margin-bottom:3px;font-size:11.5px}
  .tooltip .tt-proj{font-weight:600;margin-bottom:2px;font-size:10.5px}
  .tooltip .tt-level{display:inline-block;padding:2px 7px;border-radius:3px;font-weight:700;font-size:10px;margin-bottom:5px;text-transform:uppercase}
  .tooltip .tt-dim{margin-top:5px;padding-top:5px;border-top:1px solid rgba(99,132,255,0.1);font-size:9px;color:#6384ff;font-weight:600}
  .lvl-high{background:rgba(239,68,68,0.2);color:#fca5a5}
  .lvl-med{background:rgba(16,185,129,0.2);color:#6ee7b7}
  .lvl-low{background:rgba(30,58,95,0.5);color:#67e8f9}
  .lvl-none{background:rgba(15,23,42,0.5);color:#475569}
  .overall-cell{font-weight:800 !important;font-size:10.5px !important}
  .footer{text-align:center;padding:14px;color:#475569;font-size:9px;border-top:1px solid rgba(99,132,255,0.08)}
  @media(max-width:768px){.header,.main{padding:12px}.stats-bar{gap:6px}.stat-card{min-width:120px;padding:6px 10px}}
</style>
</head>
<body>

<div class="header">
  <h1>Sarang Bajpai â€” Capability Heat Map</h1>
  <p class="intro">This heat map scores demonstrated capability across <strong>19 capital markets business functions</strong>, derived from four published AI-enabled financial applications. Each cell reflects both direct domain expertise and transferable thought leadership â€” not just like-for-like mapping. Cells are colour-coded from dark (low) to red (high). <strong>Hover over any cell</strong> for a detailed rationale. Use the <strong>Scope</strong> filters to isolate buy-side, sell-side, or infrastructure functions, and the <strong>View</strong> toggle to switch between a blended score, pure domain knowledge, or pure AI/ML skill assessment.</p>

  <div class="controls">
    <div class="ctrl-group">
      <span class="ctrl-label">Scope:</span>
      <button class="ctrl-btn active" onclick="filterSide('all')">All</button>
      <button class="ctrl-btn" onclick="filterSide('buy')">Buy-Side</button>
      <button class="ctrl-btn" onclick="filterSide('sell')">Sell-Side</button>
      <button class="ctrl-btn" onclick="filterSide('infra')">Infrastructure</button>
    </div>
    <div class="ctrl-group">
      <span class="ctrl-label">View:</span>
      <div class="dim-group">
        <button class="dim-btn active" onclick="setDim(0)">Domain + AI</button>
        <button class="dim-btn" onclick="setDim(1)">Domain Knowledge</button>
        <button class="dim-btn" onclick="setDim(2)">AI Skills</button>
      </div>
    </div>
    <div class="legend">
      <div class="leg-chip"><div class="leg-dot" style="background:rgba(30,58,95,0.8)"></div>Low</div>
      <div class="leg-chip"><div class="leg-dot" style="background:rgba(16,185,129,0.55)"></div>Medium</div>
      <div class="leg-chip"><div class="leg-dot" style="background:rgba(239,68,68,0.5)"></div>High</div>
    </div>
  </div>
</div>

<div class="main">
  <table id="heatTable">
    <thead id="heatHead"></thead>
    <tbody id="heatBody"></tbody>
  </table>
</div>

<div class="tooltip" id="tooltip"></div>
<div class="footer">Capability Heat Map â€” Sarang Bajpai | Derived from: Global Monetary Momentum Â· SentimentFusion Â· RiskManager Â· Agentic AI Narrative Builder</div>

<script>
const PROJECTS=[
  {id:'gmm',name:'GMM',full:'Global Monetary Momentum',tag:'tag-gmm'},
  {id:'sf',name:'SentimentFusion',full:'SentimentFusion',tag:'tag-sf'},
  {id:'rm',name:'RiskManager',full:'RiskManager',tag:'tag-rm'},
  {id:'ai',name:'AI Narrative',full:'AI Narrative Builder',tag:'tag-ai'}
];
let curDim=0,curSide='all';
const dimL=['Domain + AI','Domain Knowledge','AI Skills'];

function lvl(s){if(s>=3.8)return'High';if(s>=2)return'Med';if(s>=0.5)return'Low';return'â€”'}
function lvlClass(s){if(s>=3.8)return'high';if(s>=2)return'med';if(s>=0.5)return'low';return'none'}
function bg(s){
  if(s>=4.5)return'rgba(239,68,68,0.5)';if(s>=3.8)return'rgba(245,158,11,0.5)';
  if(s>=3)return'rgba(16,185,129,0.45)';if(s>=2)return'rgba(14,116,144,0.45)';
  if(s>=0.5)return'rgba(30,58,95,0.6)';return'rgba(15,23,42,0.5)';
}
function tc(s){
  if(s>=4.5)return'#fca5a5';if(s>=3.8)return'#fcd34d';
  if(s>=3)return'#6ee7b7';if(s>=2)return'#5eead4';
  if(s>=0.5)return'#67e8f9';return'#334155';
}

const DATA=[
  {section:'INVESTMENT RESEARCH & STRATEGY'},
  {fn:'Research (Fundamental)',side:'buy',tags:['buy'],scores:[4,3,3,5,3,2,4,5],tips:['GMM: Deep macro fundamental research â€” central bank policy analysis, global economic indicator tracking, monetary regime classification','SentimentFusion: NLP-driven extraction of fundamental signals from earnings calls, filings, news â€” AI augmenting traditional research','RiskManager: Risk-adjusted fundamental views, factor exposure analysis informing research opinions','AI Narrative: Agentic AI auto-generates investment narratives from fundamental data â€” transforms how research is produced & consumed']},
  {fn:'Equity / Credit Research (Sell-Side)',side:'sell',tags:['sell'],scores:[3,2,3,5,3,2,4,5],tips:['GMM: Macro overlay for sector/credit views, monetary policy impact on earnings & spreads','SentimentFusion: AI-driven sentiment scoring of company-specific news, earnings calls â€” directly applicable to sell-side coverage','RiskManager: Credit risk metrics, spread analysis informing sell-side credit research','AI Narrative: Automated initiation notes, earnings flash notes, morning commentary â€” high-impact sell-side use case']},
  {fn:'Quant / Systematic Research',side:'buy',tags:['buy'],scores:[5,4,4,5,4,4,3,5],tips:['GMM: Momentum-based systematic signals across global macro â€” core quant strategy design, factor construction, backtesting','SentimentFusion: Quantitative sentiment factor construction, NLP signal generation, alternative data integration','RiskManager: Quantitative risk modelling, statistical methods for VaR, stress testing â€” mathematical rigour','AI Narrative: ML/AI pipeline design, agentic architectures â€” advanced AI engineering applicable to quant systems']},
  {fn:'Strategy & Asset Allocation',side:'buy',tags:['buy'],scores:[5,4,3,4,4,3,3,4],tips:['GMM: Core competency â€” global macro strategy, monetary momentum driving cross-asset allocation across equities, rates, FX, commodities','SentimentFusion: Sentiment regime indicators informing tactical allocation shifts and risk-on/risk-off positioning','RiskManager: Risk-based allocation frameworks, risk budgeting across asset classes','AI Narrative: AI-generated strategy commentary and allocation rationale â€” enhances CIO/strategist communication']},
  {section:'PORTFOLIO & TRADING'},
  {fn:'Portfolio Management / Construction',side:'buy',tags:['buy'],scores:[4,3,3,4,5,4,3,4],tips:['GMM: Momentum-driven portfolio construction, regime-aware weighting, dynamic allocation','SentimentFusion: Sentiment-overlay for position sizing, conviction weighting, alternative signal integration','RiskManager: Core â€” risk-aware construction, constraint management, tracking error budgeting, factor exposure control','AI Narrative: AI-assisted portfolio commentary, automated position rationale generation']},
  {fn:'Trading & Execution (OMS/EMS)',side:'both',tags:['buy','sell'],scores:[2,2,3,4,3,3,1,3],tips:['GMM: Momentum signals for execution timing, macro-driven urgency assessment','SentimentFusion: Real-time sentiment for execution timing, news-driven trade urgency â€” smart order routing applications','RiskManager: Pre-trade risk checks, real-time position limit monitoring, execution risk controls','AI Narrative: AI-assisted trade rationale documentation, best-execution narrative generation']},
  {fn:'Sales & Trading / Market Making',side:'sell',tags:['sell'],scores:[3,2,3,4,3,3,3,4],tips:['GMM: Macro narrative for client engagement, monetary policy impact on flow positioning','SentimentFusion: Real-time market colour from sentiment analytics â€” sales desk differentiation','RiskManager: Inventory risk management, market-making risk controls, P&L attribution','AI Narrative: AI-generated market colour, client commentary, morning notes']},
  {section:'RISK & GOVERNANCE'},
  {fn:'Risk Management (Mkt/Credit/Liquidity)',side:'both',tags:['buy','sell'],scores:[4,3,3,4,5,5,2,3],tips:['GMM: Macro risk indicators, monetary policy regime risk, systemic risk monitoring, tail risk assessment','SentimentFusion: Sentiment-based early warning signals, market stress detection from news/social media','RiskManager: Core expertise â€” VaR, ES, stress testing, credit risk metrics, liquidity risk frameworks','AI Narrative: AI-generated risk commentary, automated risk reporting, exception-based alerts']},
  {fn:'Model Risk / Governance',side:'both',tags:['buy','sell'],scores:[3,3,3,4,4,4,3,5],tips:['GMM: Momentum model methodology documentation, performance monitoring, parameter governance','SentimentFusion: NLP model validation, bias detection, explainability â€” AI model governance frameworks','RiskManager: Model validation, backtesting frameworks, model inventory management','AI Narrative: Agentic AI governance â€” prompt governance, output validation, hallucination detection']},
  {fn:'Compliance & Regulatory',side:'both',tags:['buy','sell'],scores:[2,2,2,3,3,3,2,4],tips:['GMM: Macro-prudential frameworks awareness, central bank policy compliance','SentimentFusion: Regulatory text analysis, compliance monitoring via NLP, surveillance','RiskManager: Regulatory capital, stress testing for regulatory submissions (FRTB, ICAAP)','AI Narrative: AI-driven regulatory report generation, automated compliance narrative']},
  {section:'VALUATION, PERFORMANCE & OPERATIONS'},
  {fn:'Valuation / Pricing / NAV',side:'both',tags:['buy','sell'],scores:[2,1,2,3,4,3,2,3],tips:['GMM: Discount rate regime analysis â€” monetary policy impacts valuation models','SentimentFusion: Sentiment-adjusted valuation premiums, market-implied sentiment overlays','RiskManager: Risk factor modelling, mark-to-model governance, fair value hierarchy','AI Narrative: AI-assisted valuation commentary, automated NAV commentary']},
  {fn:'Performance & Attribution',side:'buy',tags:['buy'],scores:[3,2,2,3,3,3,3,5],tips:['GMM: Factor attribution for momentum exposures, macro factor decomposition','SentimentFusion: Sentiment factor contribution analysis â€” attributing alpha to sentiment signals','RiskManager: Risk-adjusted performance metrics (Sharpe, Sortino, IR), risk attribution','AI Narrative: AI-automated performance commentary, attribution narrative â€” eliminates manual reporting']},
  {fn:'Investment Ops (Post-Trade, Recon)',side:'buy',tags:['buy'],scores:[1,1,1,2,2,2,2,4],tips:['GMM: Limited direct application â€” macro awareness for corp action impact','SentimentFusion: Exception-based sentiment monitoring for corporate actions','RiskManager: Post-trade risk checks, settlement risk, reconciliation break analysis','AI Narrative: AI-automated exception reporting, operational narrative, break commentary']},
  {section:'PRODUCT, DATA & DISTRIBUTION'},
  {fn:'Product & Client Reporting',side:'both',tags:['buy','sell'],scores:[3,2,3,4,3,3,5,5],tips:['GMM: Macro commentary for client materials, CIO letter content','SentimentFusion: Sentiment dashboard products, client-facing analytics, data-as-a-service','RiskManager: Risk reporting, regulatory reporting, standardised risk communication','AI Narrative: Core â€” AI-driven automated reporting, factsheets, investment letters, RFP responses']},
  {fn:'Data Management (Market/Ref/Alt)',side:'both',tags:['buy','sell','infra'],scores:[4,3,4,5,3,3,3,4],tips:['GMM: Multi-source macro data aggregation, time-series management, economic database design','SentimentFusion: Core â€” alternative data sourcing, unstructured data pipelines, NLP processing, data quality','RiskManager: Market data management, reference data for risk models, data lineage','AI Narrative: Data orchestration for AI pipelines, multi-source retrieval, agentic data access']},
  {fn:'Index Management (Methodology)',side:'both',tags:['buy','sell','infra'],scores:[4,3,3,4,3,2,2,3],tips:['GMM: Strong â€” momentum-based index design, rules-based methodology, rebalancing, benchmark construction','SentimentFusion: Sentiment-based index methodology, sentiment-weighted factor indices','RiskManager: Risk factor index construction, risk-parity methodology, vol-targeting indices','AI Narrative: AI-assisted index methodology documentation, automated index commentary']},
  {section:'SPECIALIST FUNCTIONS'},
  {fn:'Private Markets (Deal Lifecycle)',side:'buy',tags:['buy'],scores:[2,1,3,4,3,3,3,5],tips:['GMM: Macro environment assessment for deal timing and exit strategy','SentimentFusion: Private company sentiment monitoring, deal pipeline sentiment scoring â€” alt data for PE/VC','RiskManager: Portfolio company risk monitoring, concentration risk, vintage analysis','AI Narrative: Strong â€” AI-generated deal memos, IC papers, portfolio monitoring narratives, LP reporting']},
  {fn:'Treasury / Funding / Capital',side:'sell',tags:['sell'],scores:[4,2,2,3,4,3,2,3],tips:['GMM: Core â€” monetary policy impacts funding costs, rate expectations, FRA/OIS spreads, capital planning','SentimentFusion: Funding market stress indicators, liquidity sentiment monitoring','RiskManager: Liquidity risk management, capital adequacy modelling, funding stress testing','AI Narrative: AI-generated treasury commentary, funding condition narratives']},
  {fn:'Structuring / Financial Engineering',side:'sell',tags:['sell'],scores:[3,2,2,3,4,3,2,3],tips:['GMM: Rate environment for structured product design, macro scenario overlays','SentimentFusion: Sentiment inputs for structured product triggers, market condition analysis','RiskManager: Structured product risk analysis, Greeks, scenario analysis, payoff modelling','AI Narrative: AI-assisted term sheet drafting, product documentation']},
  {fn:'Wealth Management / Advisory',side:'buy',tags:['buy'],scores:[4,2,3,4,3,2,5,5],tips:['GMM: Macro views for client advisory, investment outlook generation','SentimentFusion: Client sentiment analysis, market dashboards for advisors, personalised news','RiskManager: Client risk profiling, portfolio risk communication, suitability assessments','AI Narrative: Core â€” AI-personalised client comms, portfolio reviews, proposals â€” transforms advisory']},
  {fn:'ESG / Sustainable Finance',side:'both',tags:['buy','sell'],scores:[2,1,3,5,2,2,3,4],tips:['GMM: Green macro policy tracking, climate-related monetary policy analysis','SentimentFusion: ESG sentiment â€” controversy detection, greenwashing identification, stakeholder analysis','RiskManager: Climate risk modelling, ESG risk integration into frameworks','AI Narrative: AI-generated ESG reports, sustainability narratives, TCFD/SFDR automation']},
];

function ps(scores,pi){let d=scores[pi*2],a=scores[pi*2+1];if(curDim===1)return d;if(curDim===2)return a;return(d+a)/2}
function ov(scores){let d=0,a=0,n=0;for(let i=0;i<scores.length;i+=2){d+=scores[i];a+=scores[i+1];n++}if(curDim===1)return d/n;if(curDim===2)return a/n;return(d+a)/(n*2)}

function filterSide(s){
  curSide=s;
  document.querySelectorAll('.ctrl-btn').forEach(b=>{const m=b.getAttribute('onclick');if(m&&m.includes('filterSide')){const r=m.match(/'(\w+)'/);if(r)b.classList.toggle('active',r[1]===s)}});
  render();
}
function setDim(d){curDim=d;document.querySelectorAll('.dim-btn').forEach((b,i)=>b.classList.toggle('active',i===d));render()}

function render(){
  const head=document.getElementById('heatHead'),body=document.getElementById('heatBody');
  head.innerHTML='';body.innerHTML='';
  let hr='<tr><th>Business Function</th>';
  PROJECTS.forEach(p=>{hr+=`<th>${p.full}<br><span class="proj-tag ${p.tag}">${p.name}</span></th>`});
  hr+='<th>Overall<br><span class="proj-tag tag-overall">COMPOSITE</span></th></tr>';
  head.innerHTML=hr;

  let tot=0,cnt=0,pt=[0,0,0,0],topF=[];
  DATA.forEach(r=>{
    if(r.section){body.innerHTML+=`<tr class="section-row"><td colspan="${PROJECTS.length+2}">${r.section}</td></tr>`;return}
    if(curSide!=='all'&&!r.tags.includes(curSide))return;
    const sc=r.side==='buy'?'side-buy':r.side==='sell'?'side-sell':'side-both';
    const sl=r.side==='buy'?'BUY':r.side==='sell'?'SELL':'BOTH';
    let tr=`<tr><td><div class="fn-label"><span class="side-tag ${sc}">${sl}</span>${r.fn}</div></td>`;
    PROJECTS.forEach((p,i)=>{
      const s=ps(r.scores,i),l=lvl(s),c=lvlClass(s);
      tr+=`<td style="background:${bg(s)};color:${tc(s)}" data-fn="${r.fn}" data-proj="${p.full}" data-score="${s}" data-lvl="${l}" data-tip="${r.tips[i]}" onmouseenter="showTip(event)" onmouseleave="hideTip()">${l}</td>`;
      pt[i]+=s;
    });
    const o=ov(r.scores),ol=lvl(o);
    tr+=`<td class="overall-cell" style="background:${bg(o)};color:${tc(o)}">${ol}</td></tr>`;
    body.innerHTML+=tr;tot+=o;cnt++;topF.push({fn:r.fn,s:o});
  });

}

function showTip(e){
  const td=e.target,t=document.getElementById('tooltip');
  const fn=td.dataset.fn,proj=td.dataset.proj,l=td.dataset.lvl,tip=td.dataset.tip,s=parseFloat(td.dataset.score);
  const lc=lvlClass(s);
  t.innerHTML=`<div class="tt-title">${fn}</div><div class="tt-proj">${proj}</div><div class="tt-level lvl-${lc}">${l}</div><div>${tip}</div><div class="tt-dim">ðŸ”Ž View: ${dimL[curDim]}</div>`;
  t.style.display='block';
  const r=td.getBoundingClientRect();
  let left=r.right+10,top=r.top;
  if(left+300>window.innerWidth)left=r.left-310;
  if(top+180>window.innerHeight)top=window.innerHeight-190;
  t.style.left=left+'px';t.style.top=top+'px';
}
function hideTip(){document.getElementById('tooltip').style.display='none'}
render();
</script>
</body>
</html>
